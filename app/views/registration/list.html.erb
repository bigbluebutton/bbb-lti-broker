<%# BigBlueButton open source conferencing system - http://www.bigbluebutton.org/.

Copyright (c) 2018 BigBlueButton Inc. and by respective authors (see below).

This program is free software; you can redistribute it and/or modify it under the
terms of the GNU Lesser General Public License as published by the Free Software
Foundation; either version 3.0 of the License, or (at your option) any later
version.

BigBlueButton is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details.

You should have received a copy of the GNU Lesser General Public License along
with BigBlueButton; if not, see <http://www.gnu.org/licenses/>. %>

<div>
  <h3><%= t('registration.list') %></h3> <%= button_to t('ui.new'), new_registration_path, :method => "get" if defined? new_registration_path %>
  <table id="bbb-registration-table">
    <thead>
        <tr>
            <th><%= t('registration.issuer') %></th>
            <th><%= t('registration.clientid') %></th>
            <th><%= t('registration.keyseturl') %></th>
            <th><%= t('registration.authtokenurl') %></th>
            <th><%= t('registration.authloginurl') %></th>
            <th><%= t('registration.toolprivkey') %></th>
            <th><%= t('registration.tenant') %></th>
            <th><%= t('ui.options') %></th>
        </tr>
    </thead>
    <tbody>
        <% @registrations.each do |reg| %>
            <tr style="padding: 2em; border: 1px darkgrey solid;">
                <th><%= reg['issuer'] %></th>
                <th><%= reg['client_id'] %></th>
                <th><%= reg['key_set_url'] %></th>
                <th><%= reg['auth_token_url'] %></th>
                <th><%= reg['auth_login_url'] %></th>
                <th><%= reg['tool_private_key'] %></th>
                <th><%= reg['tenant'] %></th>
                <th>
                    <%= link_to '<i class="fa fa-edit"></i>'.html_safe, url_for( edit_registration_path + '?' + { :reg_id => reg['issuer'], :client_id => reg['client_id'] }.to_query )%>
                    <%= link_to '<i class="fa fa-trash"></i>'.html_safe, url_for( delete_registration_path + '?' + { :reg_id => reg['issuer'], :client_id => reg['client_id'] }.to_query ) %>
                </th>
            </tr>
        <% end %>
    </tbody>

  </table>
</div>